<!DOCTYPE html>
<html lang="pt-br" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Cashback</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="assets/css/cashbackvendedor.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">



    <style>
        #sideMenu {
            position: fixed;
            top: 0;
            right: -250px;
            width: 250px;
            height: 100%;
            background-color: #222;
            color: #f0f0f0;
            box-shadow: -3px 0 8px rgba(0, 0, 0, 0.6);
            transition: right .3s ease, opacity .3s ease;
            padding: 30px 25px;
            font-family: 'Poppins', sans-serif;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            display: flex;
            flex-direction: column;
        }

        #sideMenu.active {
            right: 0;
            opacity: 1;
            pointer-events: auto;
        }

        #sideMenu .closeBtn {
            font-size: 28px;
            font-weight: 700;
            cursor: pointer;
            text-align: right;
            margin-bottom: 40px;
            color: #f0f0f0;
            user-select: none;
            transition: color .2s;
        }

        #sideMenu .closeBtn:hover {
            color: #ff4d4d;
        }

        #sideMenu ul {
            list-style: none;
            padding: 0;
            margin: 0;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        #sideMenu ul li {
            font-weight: 600;
            font-size: 20px;
        }

        #sideMenu ul li a {
            color: #f0f0f0;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 8px;
            display: block;
        }

        #sideMenu ul li a:hover {
            background: #444;
            color: #ff4d4d;
        }
    </style>
</head>

<body>
    <header>
        <a href="indexvendedor.html"><img class="logo" src="assets/img/Ariel.png" alt="Logo"></a>
        <form onsubmit="event.preventDefault(); listarProdutos();">
            <input class="input-header" id="buscaInput" type="text" placeholder="Buscar na AutoPrime" />
            <button class="header-btninput" type="submit" style="padding:8px; border:none; cursor:pointer;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 
                    1.415-1.414l-3.85-3.85zm-5.242.656a5 
                    5 0 1 1 0-10 5 5 0 0 1 0 10z" />
                </svg>
            </button>
        </form>

        <a class="avatarheader" href="#" id="avatarToggle"><img src="assets/img/login 3.png" alt="Avatar" /></a>
    </header>

    <div id="menuOverlay" class="menu-overlay"
        style="position:fixed;inset:0;background:rgba(0,0,0,0.45);z-index:999;opacity:0;pointer-events:none;transition:opacity .18s;">
    </div>

    <!-- ========== MENU LATERAL ========== -->
    <nav id="sideMenu">
        <div class="closeBtn" id="menuClose">&times;</div>
        <ul>
            <li><a href="#">Minha Conta</a></li>
            <li><a href="#" id="logoutBtn">Logout</a></li>
        </ul>
    </nav>


    <section class="banner">
        <img src="assets/img/PONTEIRAS DE 1.png" alt="">
    </section>

    <section class="main">
        <h1>Gerenciar seu cashback</h1>
        <div class="cards-container">

            <div class="usuario">

                <div class="icone">
                    <i class="fa-solid fa-user"></i>
                </div>
                <div class="info">
                    <p>usuario@gmail.com</p>
                    <h2 class="criado-em">Criado em: 22/09/2025</h2>
                </div>

            </div>

            <div class="informacoes">

                <div class="usuarios">

                    <div class="info-titulo">
                        <i class="fa-solid fa-user"></i>
                        <p>Usuários</p>
                    </div>
                    <div class="info-segmento-usuarios">
                        <p class="numero-info">500</p>
                        <a class="gerenciar" href="usuarios.html">Gerenciar</a>
                    </div>
                </div>

                <div class="usuarios">

                    <div class="info-titulo">
                        <i class="fa-solid fa-cart-shopping"></i>
                        <p>Vendas</p>
                    </div>
                    <div class="info-segmento-vendas">
                        <p class="numero-info">400.000</p>
                        <a class="gerenciar" href="vendas.html">Gerenciar</a>
                    </div>
                </div>

                <div class="usuarios">

                    <div class="info-titulo">
                        <i class="fa-solid fa-bag-shopping"></i>
                        <p>Produtos</p>
                    </div>
                    <div class="info-segmento-produtos">
                        <p class="numero-info">50.000</p>
                        <a class="gerenciar" href="produtos.html">Gerenciar</a>
                    </div>
                </div>

                <div class="usuarios">

                    <div class="info-titulo">
                        <i class="fa-solid fa-dollar-sign"></i>
                        <p>Cashback</p>
                    </div>
                    <div class="info-segmento-cashback">
                        <p class="numero-info">R$600,00</p>
                        <a class="gerenciar" href="cashback.html">Gerenciar</a>
                    </div>
                </div>

            </div>

        </div>

        <div class="botoes">

            <a href="usuarios.html" class="botao-gerenciar"><i class="fa-solid fa-user"></i>Gerenciar Usuários</a>

            <a href="vendas.html" class="botao-gerenciar"><i class="fa-solid fa-cart-shopping"></i>Gerenciar Vendas</a>

            <a href="produtos.html" class="botao-gerenciar"><i class="fa-solid fa-bag-shopping"></i>Gerenciar
                Produtos</a>

            <a href="cashback.html" class="botao-gerenciar"><i class="fa-solid fa-dollar-sign"></i>Gerenciar
                Cashback</a>

        </div>

        <div class="div-azul">
            <h2 class="titulo">Total acumulado</h2>
            <h2 class="capital" id="cashbackValor">R$: 0,00</h2>

        </div>

        <div class="graficos-container">

            <div class="grafico-pizza">
                <h3 class="titulo-pizza">Total de cashback acumulado pelos vendedores</h3>

                <canvas id="Pizza"></canvas>
            </div>

            <div class="grafico-coluna">
                <h3 class="titulo-coluna">Total de cashback acumulado mensalmente</h3>

                <canvas id="Coluna"></canvas>
            </div>

        </div>

        <div class="vendedores">

            <div class="vendedor-linha">

                <div class="vendedor-detalhes">

                    <div class="icone">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="separacao-nome-info">
                        <div class="nome">
                            <p>usuario@gmail.com</p>
                        </div>
                        <div class="info-vendedor">
                            <p class="total"><span class="negrito">Total: </span>R$: 500,00</p>


                        </div>
                    </div>

                </div>

            </div>

            <div class="vendedor-linha">

                <div class="vendedor-detalhes">

                    <div class="icone">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="separacao-nome-info">
                        <div class="nome">
                            <p>usuario@gmail.com</p>
                        </div>
                        <div class="info-vendedor">
                            <p class="criado-em"><span class="negrito">Total: </span>R$: 500,00</p>

                        </div>
                    </div>

                </div>

            </div>

            <div class="vendedor-linha">

                <div class="vendedor-detalhes">

                    <div class="icone">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="separacao-nome-info">
                        <div class="nome">
                            <p>usuario@gmail.com</p>
                        </div>
                        <div class="info-vendedor">
                            <p class="criado-em"><span class="negrito">Total: </span>R$: 500,00</p>

                        </div>
                    </div>

                </div>

            </div>

            <div class="vendedor-linha">

                <div class="vendedor-detalhes">

                    <div class="icone">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="separacao-nome-info">
                        <div class="nome">
                            <p>usuario@gmail.com</p>
                        </div>
                        <div class="info-vendedor">
                            <p class="criado-em"><span class="negrito">Total: </span>R$: 500,00</p>

                        </div>
                    </div>

                </div>

            </div>

            <div class="vendedor-linha">

                <div class="vendedor-detalhes">

                    <div class="icone">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="separacao-nome-info">
                        <div class="nome">
                            <p>usuario@gmail.com</p>
                        </div>
                        <div class="info-vendedor">
                            <p class="criado-em"><span class="negrito">Total: </span>R$: 500,00</p>

                        </div>
                    </div>

                </div>

            </div>

        </div>

    </section>

    <script>
        document.addEventListener("DOMContentLoaded", async () => {

            const resp = await fetch("http://10.92.3.210:5000/cashback/total/68", {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            })

            const dados = await resp.json();
            console.log(dados);

            document.getElementById("cashbackValor").innerText = `R$: ${dados.total_cashback.toFixed(2)}`;

        });
    </script>

</body>

</html>